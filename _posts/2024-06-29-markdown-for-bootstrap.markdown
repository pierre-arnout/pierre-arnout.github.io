---
layout: post
title:  "I want a powerful Markdown"
date:   2024-06-29 14:15:03 +0200
categories: code
excerpt_separator: <!--exc-end-->
picture:
  path: bootdown-header.jpg
  iso: 400
  film: Kodak Gold 400
---

{:hr1: .hidden .cmb-1}
{:hr2: .hidden .cmb-2}
{:hr3: .hidden .cmb-3}
{:hr5: .hidden .cmb-3 .cmt-1}
{:hr5: .hidden .cmb-3 .cmt-2}
{:hr6: .hidden .cmb-3 .cmt-3}

In my book a quality blogging system must

1. Be offline
2. Bring no frustations
3. Allow creativity when writing an article

Any static blogging system will do the job except for the last part about creativity, about this they all sucks. That remind me of Mutt's headline: "_All mail clients sucks. This one just sucks less_".

Well Markdown do not suck, I love it. It's smart, it's efficient and it's both readable in its natural form and HTML, but for this blog I need more.

<!--exc-end-->

This blog will mainly be focused around film photography and to show my pictures, to document my processes, log my attempts I need to write article that are not linear.

I want to be able to have a picture on the left with some text on its right, then the opposite, later to have 3 images displayed next to each other, etc.

Markdown is not made for this and it makes sens, but I want a Markdown with more features, a Markdown connected to Bootstrap.

Bootstrap is full of great features for that kind of simple blogs. With a few tweaks to the default Bootstrap CSS and a few more lines of custom CSS I got decent looking website, that's great. If only I could use some Bootstrap feature through Markdown editing that would be dope.

The grid system, this is where it's at. If I could control Bootstrap's grid system over Markdown 80% of frustrations would go away, so let's do that.

## Bootdown

Bootdown is (or.. will be) a Markdown parser made for Bootstrap.

### Grid system

You probably already know that, Bootstrap comes with a gread grid system. It's probably the best feature Bootstrap has to offer but unfortunately we can't control this over Markdown so let's add this.

{}>>

This piece of code

    {}>>
    Foo
    {}>
    Bar
    {}>
    Baz
    <<
{}>

Would give

    <div class="row"><div class="col-4">
        <p>Foo</p>
    </div><div class="col-4">
        <p>Bar</p>
    </div><div class="col-4">
        <p>Baz</p>
    </div></div>
<<

Let's break down this syntax

- `{}>>` opens a new `row` and `col`
- `{}>` close last `col` and open a new one
- `<<` close both `col` and `row`


{}>>

You can get more specific:

    {}>>
    Small
    {8}>
    Big
    {}>
    Small
    <<
{}>

Would give

    <div class="row"><div class="col-2">
        <p>Small</p>
    </div><div class="col-8">
        <p>Big</p>
    </div><div class="col-2">
        <p>Small</p>
    </div></div>
<<

### Classes

Most Bootstrap features comes in the form of CSS classes, so adding ability to control it through Bootdown would open a whole lot of possiblities.

[Kramdown](https://kramdown.gettalong.org/), the default Markdown parser for [Jekyll](https://jekyllrb.com/) already offers this. This is why so far this blog is generated by Jekyll, by pure lazyness.
So yes, Jekyll is old, almost deprecated but for now it will do the job.

Here is how Kramdown handle CSS attributes to HTML elements

{}>>
    # Heading 1
    {: .class-name #id-name}
{}>
    <h1 class="class-name" id="id-name">Header 1</h1>
<<

This would work, but if I had to implement my own Markdown parser I would probably change it a little to make it less verbose:

    # Heading 1
    {.class-name #id-name}

To me this work the same but is slightly less verbose, so why not. This syntax would also help me to introduce ids and classes to the grid system:

{}>>
    {.class-name}>>
    Foo
    {8 #id-name}>
    Bar
    <<
{}>
    <div class="row"><div class="col-4 class-name">
        <p>Foo</p>
    </div><div class="col-8" id="id-name">
        <p>Bar</p>
    </div></div>
<<

This two features, grid and CSS classes, covers 90% of my needs. All the rest can be achieved with some minor tricks.

### Image captions

This blog is about pictures so it makes sens to bring some more feature around it.

I would like to let me switch from two usages easily,

1. When I want my images to show caption
2. When I don't want my images to show caption
^

* {:hr1}

Ok so here is the default syntax for images

    ![Picture title](/foo.jpg)

In most cases I want this to only show a picture:

    <img src="/foo.jpg" alt="Picture title">

But sometimes I want the caption to show

    <div class="img">
        <img src="/foo.jpg" alt="Picture title">
        <div class="img-caption">
            <p>Picture title</p>
        </div>
    </div>

That would allow me to do stuff like

{}>>
![Picture one](/images/photography/02-useless-attempts-test-1.jpg)

Color picture
{: .caption}

{}>
![Picture two](/images/photography/02-useless-attempts-test-2.jpg)

Black and white picture
{: .caption}
<<

Here is my proposal

    ![Picture one]{/foo.jpg}

Just by switching `()` (no captions) to `{}` (captions on) should do the trick but I'm still hesitating about this one, it's not very explicit but for now it will avoid me the struggle of typing

    ![Black and white picture](/images/photography/02-useless-attempts-test-2.jpg)

    Black and white picture
    {: .caption}

to achieve the same result.